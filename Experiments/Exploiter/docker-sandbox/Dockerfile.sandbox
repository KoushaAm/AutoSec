# syntax=docker/dockerfile:1
FROM maven:3.9.6-eclipse-temurin-17 AS builder

WORKDIR /app

# Copy project with its pom.xml already present
COPY project /app

# ensure the project has this in its pom.xml:
# (add if missing)
#   <dependency>
#     <groupId>org.mockito</groupId>
#     <artifactId>mockito-junit-jupiter</artifactId>
#     <version>5.11.0</version>
#     <scope>test</scope>
#   </dependency>

RUN mvn dependency:resolve

CMD ["mvn", "test", "-Dtest=VULN_001_Test"]
