{
  "raw_response": "<BRANCHES>\n[\n  {\n    \"code\": \"if (f.exists())\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java\",\n    \"outcome\": \"True - file must exist for the write operation\"\n  },\n  {\n    \"code\": \"if (replacement != null)\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java\",\n    \"outcome\": \"True - replacement content must not be null\"\n  },\n  {\n    \"code\": \"if (srcDir.isDirectory())\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java\",\n    \"outcome\": \"True - src directory must exist\"\n  },\n  {\n    \"code\": \"if (varsDir.isDirectory())\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java\",\n    \"outcome\": \"True - vars directory must exist\"\n  },\n  {\n    \"code\": \"if (urls.isEmpty())\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java\",\n    \"outcome\": \"False - at least one directory (src or vars) must exist\"\n  },\n  {\n    \"code\": \"if (libraryPath != null && !libraryPath.endsWith(\\\"/\\\"))\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/SCMSourceRetriever.java\",\n    \"outcome\": \"Depends - libraryPath must not be null and must not end with '/'\"\n  },\n  {\n    \"code\": \"if (revision == null)\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/SCMSourceRetriever.java\",\n    \"outcome\": \"False - revision must not be null\"\n  },\n  {\n    \"code\": \"if (e.getMessage() != null)\",\n    \"type\": \"If-Else\",\n    \"file\": \"src/main/java/org/jenkinsci/plugins/workflow/libs/SCMSourceRetriever.java\",\n    \"outcome\": \"Depends - exception message must not be null to be logged\"\n  }\n]\n</BRANCHES>\n<INPUT_CONDITIONS>\n[\n  {\n    \"condition\": \"library.getName() returns a non-null value\",\n    \"reason\": \"Used as dirName in constructing checkoutDir\"\n  },\n  {\n    \"condition\": \"scm.getName() returns a non-null value\",\n    \"reason\": \"Used in constructing checkoutPath\"\n  },\n  {\n    \"condition\": \"baseDir and libraryName combine to form a valid path\",\n    \"reason\": \"checkoutDir is created using these values\"\n  },\n  {\n    \"condition\": \"At least one of 'src' or 'vars' directories exists under libDir\",\n    \"reason\": \"Required to avoid AbortException in LibraryAdder\"\n  },\n  {\n    \"condition\": \"SCM fetch returns a non-null revision\",\n    \"reason\": \"Null revision throws an exception in SCMSourceRetriever\"\n  }\n]\n</INPUT_CONDITIONS>",
  "branches": [
    {
      "code": "if (f.exists())",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java",
      "outcome": "True - file must exist for the write operation"
    },
    {
      "code": "if (replacement != null)",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java",
      "outcome": "True - replacement content must not be null"
    },
    {
      "code": "if (srcDir.isDirectory())",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java",
      "outcome": "True - src directory must exist"
    },
    {
      "code": "if (varsDir.isDirectory())",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java",
      "outcome": "True - vars directory must exist"
    },
    {
      "code": "if (urls.isEmpty())",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/LibraryAdder.java",
      "outcome": "False - at least one directory (src or vars) must exist"
    },
    {
      "code": "if (libraryPath != null && !libraryPath.endsWith(\"/\"))",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/SCMSourceRetriever.java",
      "outcome": "Depends - libraryPath must not be null and must not end with '/'"
    },
    {
      "code": "if (revision == null)",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/SCMSourceRetriever.java",
      "outcome": "False - revision must not be null"
    },
    {
      "code": "if (e.getMessage() != null)",
      "type": "If-Else",
      "file": "src/main/java/org/jenkinsci/plugins/workflow/libs/SCMSourceRetriever.java",
      "outcome": "Depends - exception message must not be null to be logged"
    }
  ],
  "input_conditions": [
    {
      "condition": "library.getName() returns a non-null value",
      "reason": "Used as dirName in constructing checkoutDir"
    },
    {
      "condition": "scm.getName() returns a non-null value",
      "reason": "Used in constructing checkoutPath"
    },
    {
      "condition": "baseDir and libraryName combine to form a valid path",
      "reason": "checkoutDir is created using these values"
    },
    {
      "condition": "At least one of 'src' or 'vars' directories exists under libDir",
      "reason": "Required to avoid AbortException in LibraryAdder"
    },
    {
      "condition": "SCM fetch returns a non-null revision",
      "reason": "Null revision throws an exception in SCMSourceRetriever"
    }
  ],
  "evidence_count": 4
}