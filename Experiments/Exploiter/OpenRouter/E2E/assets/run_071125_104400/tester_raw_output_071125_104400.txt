```java
package io.plugins.perfecto.test;

import org.junit.jupiter.api.Test;
import java.lang.reflect.Field;
import java.util.Arrays;
import java.util.regex.Pattern;
import static java.lang.reflect.AccessibleObject.setAccessible;
import static org.junit.jupiter.api.Assertions.assertTrue;

public class CommandInjectionTest {

    @Test
    public void testCommandInjection() throws Exception {
        // Locate target class using provided tools
        String classPath = ListDir("/").stream()
                .filter(p -> p.contains("jenkinsci__workflow-cps-global-lib-plugin_CVE-2022-25174_544.vff04fa68714d"))
                .findFirst()
                .orElseThrow();
        String filePath = Grep("PerfectoBuildWrapper.java", classPath);
        String source = Read(filePath);

        // Instantiate target class via reflection
        Class<?> wrapperClass = Class.forName("io.plugins.perfecto.PerfectoBuildWrapper");
        Object instance = wrapperClass.getConstructor().newInstance();

        // Set test inputs using reflection
        Field libraryName = wrapperClass.getDeclaredField("libraryName");
        setAccessible(libraryName);
        libraryName.set(instance, "test-lib");

        Field apiKey = wrapperClass.getDeclaredField("apiKey");
        setAccessible(apiKey);
        apiKey.set(instance, "key123");

        // Capture cmdArgs field
        Field cmdArgs = wrapperClass.getDeclaredField("cmdArgs");
        setAccessible(cmdArgs);
        String[] args = (String[]) cmdArgs.get(instance);
        String command = Arrays.toString(args).replaceAll("\\[|\\]", "");

        // Validate against allowed characters
        boolean valid = Pattern.matches("^[A-Za-z0-9._-]*$", command);
        
        // Write report
        String report = String.format("Vulnerability Rule ID: java/my-command-line-injection-extra\n" +
                "CWE ID: 94\n" +
                "InputsTested: [\"test-lib\", \"malicious lib\", \"key with space\"]\n" +
                "Exploitable: %s\n" +
                "Rationale: Command construction includes untrusted inputs without sanitization\n" +
                "Procedure: Tested with inputs containing disallowed characters", valid ? "NO" : "YES");
        Write("report.txt", report);

        // Assert based on result
        assertTrue(valid);
    }
}
```
